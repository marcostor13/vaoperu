<div class="mt-5 product-list">

    <p-dataView [value]="products" [paginator]="true" [rows]="9" filterBy="name" layout="list">
        <ng-template pTemplate="header">
            <div class="row justify-content-between m-0">           
                <div class="input-search">
                    <i class="pi pi-search"></i>
                    <input type="search" pInputText placeholder="Buscar" (input)="dv.filter($event.target.value)">
                </div>
                <p-dataViewLayoutOptions></p-dataViewLayoutOptions>
            </div>
        </ng-template>
        
        <ng-template let-product pTemplate="listItem">
            <div class="product col-12 p-0 pt-2 pb-2 row align-items-center">
                <p-carousel [value]="product?.images" [numVisible]="1" [numScroll]="1" [styleClass]="'carousel'">
                    <ng-template let-image pTemplate="item">
                        <div class="image-product" [ngStyle]="{'background-image': 'url('+image+')'}"></div>  
                    </ng-template>
                </p-carousel>
                <div class="mt-2 pt-2 d-flex flex-column justify-content-between ml-3">
                    <h5>{{product.name}}</h5>
                    <div class="row align-items-center m-0">
                        <h5 *ngIf="product.promotionalPrice" class="text-color8">{{getPrice(product.promotionalPrice)}}</h5>
                        <h5 [ngClass]="{'price-sub ml-2': product.promotionalPrice}" class="text-color8">{{getPrice(product.price)}}</h5>
                    </div>
                    <button *ngIf="role==='provider'" (click)="edit(product)" class="border-0 text-white p-1 pl-2 pr-2 rounded bg-color2"><i class="pi pi-pencil"></i></button>
                </div>
                <div class="flex-1 ml-5 pt-2 pb-2">
                    <p>{{product.description}}</p>
                </div>
            </div>
        </ng-template>

        <ng-template let-product pTemplate="gridItem">
            <div class="product col-6 p-0 col-lg-4 col-xl-4 mt-3 m-0 row justify-content-center pt-2 pb-2">
                <p-carousel [value]="product?.images" [numVisible]="1" [numScroll]="1" [styleClass]="'carousel'">
                    <ng-template let-image pTemplate="item">
                        <div class="image-product" [ngStyle]="{'background-image': 'url('+image+')'}"></div>                        
                    </ng-template>
                </p-carousel>
                <div class="mt-2 pt-2 col-12 d-flex flex-column justify-content-between align-items-center">
                    <h5>{{product.name}}</h5>
                    <div class="row align-items-center">
                        <h5 *ngIf="product.promotionalPrice" class="text-color8">{{getPrice(product.promotionalPrice)}}</h5>
                        <h5 [ngClass]="{'price-sub ml-2': product.promotionalPrice}" class="text-color8">{{getPrice(product.price)}}</h5>
                    </div>
                    <button *ngIf="role==='provider'" (click)="edit(product)" class="border-0 text-white p-1 pl-2 pr-2 rounded bg-color2"><i class="pi pi-pencil"></i></button>
                </div>               
            </div>
        </ng-template>
    </p-dataView>
    
</div>