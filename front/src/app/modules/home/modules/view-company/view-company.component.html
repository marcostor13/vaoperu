<app-header [eventHeader]="eventHeader"></app-header>

<div *ngIf="profileProvider" class="container-fluid p-2 p-xl-5">
    <div class="row justify-content-center">
        <div class="cont d-flex justify-content-center">
            <div class="d-flex container-profile">
              <div class="image image-profile" [ngStyle]="{'background-image': 'url('+profileProvider.image+')'}"></div>
              <div class="ml-4 my-auto">
                <h1 class="h3 mt-3 mt-xl-0 text-center text-xl-left">{{profileProvider.comercialName}}</h1>
                  <p class="mt-2">{{profileProvider.description}}</p>
                      <div class="d-flex">
                          <a href="tel:{{profileProvider.phone}}" target="_blank" title="Llamar" class="link-unstyled p-4 bg-color2 rounded-circle icon d-flex justify-content-center align-items-center">
                              <fa-icon class="f-16 text-white fa-rotate-90" [icon]="faPhone"></fa-icon>
                          </a>
                          <a href="https://wa.me/{{profileProvider.whatsapp | whatsapp}}?text=Hola! {{profileProvider.comercialName}}" title="Whatsapp" class="ml-2 p-4 bg-color1 rounded-circle icon d-flex justify-content-center align-items-center">
                              <fa-icon class="f-22 text-white" [icon]="faWhatsapp"></fa-icon>
                          </a>
                      </div>
                      <div class="mt-4">
                        <button *ngIf="!isFavorite(profileProvider._id)" (click)="addfavorites()" class="cursor bg-color1 border-0 py-3 px-5 text-white f-9 font-500">Agregar a favoritos</button>

                        <button *ngIf="isFavorite(profileProvider._id)" (click)="confirmDeleteFavorites(profileProvider._id)" class="cursor pl-2 pr-2 bg-color2 border-0 p-1 rounded-pill f-9 font-500">
                            <fa-icon class="f-13" [icon]="faStar"></fa-icon>
                        </button>
                      </div>
              </div>
            </div>
        </div>
        <div class="col-12 px-2 px-xl-5 pt-5 pt-xl-0">
            <p-tabView styleClass="tabview-custom">
                <p-tabPanel *ngFor="let tab of tabs">
                    <ng-template pTemplate = "header">
                        <span class="f-12 font-300">{{tab.title}}</span>
                    </ng-template>
                    <app-product-list *ngIf="tab.title!=='Información'" [type]="tab.title" [profileProviderId]="profileProvider._id" [items]="tab.data" [rows]="3"></app-product-list>
                    <app-information *ngIf="tab.title==='Información'" [profileProvider]="profileProvider" ></app-information>
                </p-tabPanel>

            </p-tabView>
        </div>

    </div>
    <div class="row">
        <h3 class="text-center mt-5 w-100 px-3 text-color1">Todos nuestros productos</h3>
        <app-product-list [type]="'Productos'" [profileProviderId]="profileProvider._id"  [items]="products" [rows]="9"></app-product-list>
    </div>
</div>
