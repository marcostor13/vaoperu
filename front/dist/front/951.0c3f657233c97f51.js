"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[951],{7669:(y,h,n)=>{n.d(h,{i:()=>m});var u=n(5e3),_=n(5830);let m=(()=>{class c{constructor(a){this.api=a,this.model="url"}save(a){return this.api.api({service:a._id?`update-${this.model}/${a._id}`:`save-${this.model}`,type:a._id?"patch":"post",data:a})}get(){return this.api.api({service:`get-${this.model}`,type:"get",data:null})}delete(a){return this.api.api({service:`delete-${this.model}/${a}`,type:"delete",data:null})}updateAll(a){return this.api.api({service:`update-${this.model}-all`,type:"patch",data:a})}}return c.\u0275fac=function(a){return new(a||c)(u.LFG(_.s))},c.\u0275prov=u.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},1951:(y,h,n)=>{n.r(h),n.d(h,{UrlModule:()=>A});var u=n(9808),_=n(9812);class m{constructor(){this.url="",this.profileProviderId="",this.isIndividual=!1}}class c{constructor(){this._id=!1,this.url=!1,this.profileProviderId=!1,this.isIndividual=!1}}var e=n(5e3),a=n(7669),v=n(1724),i=n(9783),l=n(7840),f=n(5315),g=n(4182),U=n(930),C=n(7307);function b(s,p){if(1&s){const t=e.EpF();e.TgZ(0,"div",20)(1,"div")(2,"span",21),e._uU(3,"Url :"),e.qZA(),e.TgZ(4,"span",22),e._uU(5),e.qZA()(),e.TgZ(6,"div")(7,"button",23),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw().addEdit(d)}),e._uU(8,"Editar"),e.qZA()()()}if(2&s){const t=p.$implicit;e.xp6(5),e.Oqu(t.url)}}function M(s,p){if(1&s&&(e.TgZ(0,"option",24),e._uU(1),e.qZA()),2&s){const t=p.$implicit;e.s9C("value",t._id),e.xp6(1),e.Oqu(t.comercialName)}}function P(s,p){if(1&s){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(o){e.CHM(t);const d=e.oxw();return d.confirm(o,d.currentItem)}),e._uU(1,"Eliminar"),e.qZA()}}const T=function(){return{"max-height":"30rem"}},I=function(s){return{invalid:s}},Z=[{path:"",component:(()=>{class s{constructor(t,r,o,d){this.urlService=t,this.profileProviderService=r,this.messageService=o,this.confirmationService=d,this.displayModal=!1,this.invalid=new c,this.currentItem=new m}ngOnInit(){this.get(),this.getProfileProviders()}get(){this.urlService.get().subscribe(t=>{this.items=t.data},t=>{this.messageService.add({severity:"error",summary:"Error",detail:t.error.message})})}getProfileProviders(){this.profileProviderService.getAllCompanies().subscribe(t=>{this.profileProviders=t.data},t=>{this.messageService.add({severity:"error",summary:"Error",detail:t.error.message})})}validate(t){this.invalid=new c;let r=!1;return this.currentItem.url||(r=!0,this.invalid.url=!0,this.messageService.add({severity:"error",summary:"Error",detail:"Debe completar todos los campos requeridos"})),this.currentItem.profileProviderId||(r=!0,this.invalid.profileProviderId=!0,this.messageService.add({severity:"error",summary:"Error",detail:"Debe completar todos los campos requeridos"})),r}reset(){this.currentItem=new m}addEdit(t=null){t?this.currentItem=t:this.reset(),this.displayModal=!0}confirm(t,r){this.confirmationService.confirm({target:t.target,message:"\xbfSeg\xfaro que desea eliminar?",icon:"pi pi-exclamation-triangle",acceptLabel:"S\xed",rejectLabel:"No",accept:()=>{this.delete(r)},reject:()=>{}})}add(){this.validate(this.currentItem)||this.urlService.save(this.currentItem).subscribe(t=>{this.messageService.add({severity:"success",summary:"Mensaje",detail:t.message?t.message:"Usuario registrado"}),this.currentItem._id||(this.currentItem=new m),this.get()},t=>{this.messageService.add({severity:"error",summary:"Error",detail:t.error.message})})}delete(t){this.urlService.delete(t._id).subscribe(r=>{this.messageService.add({severity:"success",summary:"Mensaje",detail:r.message}),this.currentItem=new m,this.get()},r=>{this.messageService.add({severity:"error",summary:"Error",detail:r.error.message})})}getElementByID(t){return this.items.filter(r=>r._id===t)}updateAll(){this.urlService.updateAll(this.items).subscribe(t=>{this.messageService.add({severity:"success",summary:"Mensaje",detail:t.message}),this.currentItem=new m,this.get()},t=>{this.messageService.add({severity:"error",summary:"Error",detail:t.error.message})})}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(a.i),e.Y36(v.n),e.Y36(i.ez),e.Y36(i.YP))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-url"]],decls:26,vars:24,consts:[[1,"p-5"],[1,"row","m-0","justify-content-between","align-items-center"],[1,"btn2",3,"click"],[1,"pi","pi-plus","mr-2"],[1,"mt-5"],["header","Lista de categor\xedas","filterPlaceholder","Buscar por nombre","filterBy","name",3,"value","listStyle","onReorder"],["pTemplate","item","class","mt-3"],["header","",3,"visible","modal","styleClass","baseZIndex","autoZIndex","draggable","resizable","visibleChange"],[1,"col-12","row","m-0","justify-content-center"],[1,"row","m-0","p-0","flex-column","col-12","col-md-6"],["type","text",3,"ngModel","ngClass","placeholder","keyup.enter","ngModelChange","keyup"],[1,"mt-3",3,"ngModel","ngClass","keyup.enter","ngModelChange","keyup"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"row","align-items-center","m-0","p-0","mt-3"],[3,"ngModel","ngModelChange"],[1,"ml-2"],[1,"btn1","mt-4","mb-4",3,"click"],["class","btn3 bg-color6 pt-2 pb-2 mt-2 mb-4",3,"click",4,"ngIf"],[3,"autoZIndex","baseZIndex"],[1,"item-list","row","justify-content-between","align-items-center","m-0","pl-2","pr-2"],[1,"font-700"],[1,"ml-3"],[1,"btn2","p-0","pl-3","pr-3",3,"click"],[3,"value"],[1,"btn3","bg-color6","pt-2","pb-2","mt-2","mb-4",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Urls"),e.qZA(),e.TgZ(4,"button",2),e.NdJ("click",function(){return r.addEdit()}),e._UZ(5,"i",3),e._uU(6," Agregar "),e.qZA()(),e.TgZ(7,"div",4)(8,"p-orderList",5),e.NdJ("onReorder",function(){return r.updateAll()}),e.YNc(9,b,9,1,"ng-template",6),e.qZA()()(),e.TgZ(10,"p-dialog",7),e.NdJ("visibleChange",function(d){return r.displayModal=d}),e.TgZ(11,"div",8)(12,"div",9)(13,"input",10),e.NdJ("keyup.enter",function(){return r.add()})("ngModelChange",function(d){return r.currentItem.url=d})("keyup",function(){return r.invalid.url=!1}),e.qZA(),e.TgZ(14,"select",11),e.NdJ("keyup.enter",function(){return r.add()})("ngModelChange",function(d){return r.currentItem.profileProviderId=d})("keyup",function(){return r.invalid.profileProviderId=!1}),e.TgZ(15,"option",12),e._uU(16,"Seleccione el negocio"),e.qZA(),e.YNc(17,M,2,2,"option",13),e.qZA(),e.TgZ(18,"div",14)(19,"p-inputSwitch",15),e.NdJ("ngModelChange",function(d){return r.currentItem.isIndividual=d}),e.qZA(),e.TgZ(20,"label",16),e._uU(21,"Tienda p\xfablica"),e.qZA()(),e.TgZ(22,"button",17),e.NdJ("click",function(){return r.add()}),e._uU(23,"Guardar"),e.qZA(),e.YNc(24,P,2,0,"button",18),e.qZA()()(),e._UZ(25,"p-confirmPopup",19)),2&t&&(e.xp6(8),e.Q6J("value",r.items)("listStyle",e.DdM(19,T)),e.xp6(2),e.Q6J("visible",r.displayModal)("modal",!0)("styleClass","modalLogin")("baseZIndex",1e4)("autoZIndex",!1)("draggable",!1)("resizable",!1),e.xp6(3),e.Q6J("ngModel",r.currentItem.url)("ngClass",e.VKq(20,I,r.invalid.url))("placeholder","Url"),e.xp6(1),e.Q6J("ngModel",r.currentItem.profileProviderId)("ngClass",e.VKq(22,I,r.invalid.profileProviderId)),e.xp6(3),e.Q6J("ngForOf",r.profileProviders),e.xp6(2),e.Q6J("ngModel",r.currentItem.isIndividual),e.xp6(5),e.Q6J("ngIf",r.currentItem._id),e.xp6(1),e.Q6J("autoZIndex",!1)("baseZIndex",1000001))},directives:[l.F,i.jx,f.V,g.Fj,g.JJ,g.On,u.mk,g.EJ,g.YN,g.Kr,u.sg,U.Ql,u.O5,C.P],styles:[""]}),s})()}];let S=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[[_.Bz.forChild(Z)],_.Bz]}),s})();var E=n(5055);let A=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({providers:[i.YP],imports:[[u.ez,S,C.n,l.C,f.S,g.u5,E.ON,U.Iu]]}),s})()},1724:(y,h,n)=>{n.d(h,{n:()=>e});var u=n(5e3),_=n(5830),m=n(1864),c=n(2542);let e=(()=>{class a{constructor(i,l,f){this.api=i,this.general=l,this.authService=f,this.model="profile-provider"}save(i){return this.api.api({service:i._id?`update-${this.model}/${i._id}`:`save-${this.model}`,type:i._id?"patch":"post",data:i})}search(i){return this.api.api({service:`search-${this.model}`,type:"post",data:i})}get(){const i={service:`get-${this.model}-by-user-id/${this.authService.getUserID()}`,type:"get",data:null};return this.api.api(i)}getById(i){return this.api.api({service:`get-${this.model}-by-id/${i}`,type:"get",data:null})}getByUserId(i){return this.api.api({service:`get-${this.model}-by-user-id/${i}`,type:"get",data:null})}getAllCompanies(){return this.api.api({service:`get-${this.model}`,type:"get",data:null})}delete(i){return this.api.api({service:`delete-${this.model}/${i}`,type:"delete",data:null})}getUrlByProfileProviderId(i){return this.api.api({service:`get-url-by-profile-provider-id/${i}`,type:"get",data:null})}getByArray(i){return this.api.api({service:`get-${this.model}-by-array`,type:"post",data:{profileProviders:i}})}getUrlByUrl(i){return this.api.api({service:`get-url-by-url/${i}`,type:"get",data:null})}}return a.\u0275fac=function(i){return new(i||a)(u.LFG(_.s),u.LFG(m.m),u.LFG(c.e))},a.\u0275prov=u.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);