(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{y6pu:function(e,t,i){"use strict";i.r(t),i.d(t,"DistrictModule",function(){return x});var r=i("ofXK"),s=i("tyNb"),a=i("FQVY"),n=i("33Jv");class c{constructor(){this.name=""}}class d{constructor(){this._id=!1,this.name=!1}}var o=i("Ebga"),l=i("fXoL"),b=i("7zfz"),m=i("4fuH"),u=i("yWK+"),p=i("cQJI"),h=i("/RsI"),g=i("3Pt+"),v=i("RTT/");function f(e,t){if(1&e){const e=l.Ub();l.Tb(0,"div",17),l.Tb(1,"div"),l.Tb(2,"span",18),l.Gc(3,"Nombre :"),l.Sb(),l.Tb(4,"span",19),l.Gc(5),l.Sb(),l.Sb(),l.Tb(6,"div"),l.Tb(7,"button",20),l.ac("click",function(){l.yc(e);const i=t.$implicit;return l.dc().addEdit(i)}),l.Gc(8,"Editar"),l.Sb(),l.Sb(),l.Sb()}if(2&e){const e=t.$implicit;l.Bb(5),l.Hc(e.name)}}function y(e,t){if(1&e){const e=l.Ub();l.Tb(0,"button",21),l.ac("click",function(t){l.yc(e);const i=l.dc();return i.confirm(t,i.currentItem)}),l.Gc(1,"Eliminar"),l.Sb()}}const S=function(){return{"max-height":"30rem"}},I=function(e){return{invalid:e}},w=[{path:"",component:(()=>{class e{constructor(e,t,i,r){this.districtService=e,this.general=t,this.confirmationService=i,this.messageService=r,this.subs=new n.a,this.displayModal=!1,this.currentItem=new c,this.invalid=new d}ngOnInit(){this.get()}get(){this.subs.add(this.districtService.get().subscribe(e=>{this.general.c("Get",e),this.items=e.data},e=>{this.messageService.add({severity:"error",summary:"Error",detail:e.error.message})}))}validate(){this.invalid=new d;let e=!1;return this.currentItem.name||(e=!0,this.invalid.name=!0,this.messageService.add({severity:"error",summary:"Error",detail:"Debe completar todos los campos requeridos"})),e}reset(){this.currentItem=new c}addEdit(e=null){e?this.currentItem=e:this.reset(),this.displayModal=!0}confirm(e,t){this.confirmationService.confirm({target:e.target,message:"\xbfSeg\xfaro que desea eliminar?",icon:"pi pi-exclamation-triangle",acceptLabel:"S\xed",rejectLabel:"No",accept:()=>{this.delete(t)},reject:()=>{}})}add(){this.validate()||this.subs.add(this.districtService.save(this.currentItem).subscribe(e=>{this.general.c("Add",e),this.messageService.add({severity:"success",summary:"Mensaje",detail:e.message}),this.currentItem=new c,this.get()},e=>{this.messageService.add({severity:"error",summary:"Error",detail:e.error.message})}))}updateAll(){this.general.c("reorder",this.items),this.subs.add(this.districtService.updateAll(this.items).subscribe(e=>{this.general.c("updateAll",e),this.messageService.add({severity:"success",summary:"Mensaje",detail:e.message}),this.currentItem=new c,this.get()},e=>{this.messageService.add({severity:"error",summary:"Error",detail:e.error.message})}))}delete(e){this.subs.add(this.districtService.delete(e._id).subscribe(e=>{this.general.c("Delete",e),this.messageService.add({severity:"success",summary:"Mensaje",detail:e.message}),this.currentItem=new c,this.get()},e=>{this.messageService.add({severity:"error",summary:"Error",detail:e.error.message})}))}getElementByID(e){return this.items.filter(t=>t._id===e)}}return e.\u0275fac=function(t){return new(t||e)(l.Nb(o.a),l.Nb(a.a),l.Nb(b.a),l.Nb(b.e))},e.\u0275cmp=l.Hb({type:e,selectors:[["app-district"]],decls:22,vars:19,consts:[[1,"row","m-0"],[1,"d-none","d-md-flex"],[1,"flex-1"],[1,"p-5"],[1,"row","m-0","justify-content-between","align-items-center"],[1,"btn2",3,"click"],[1,"pi","pi-plus","mr-2"],[1,"mt-5"],["header","Lista de distritos","filterPlaceholder","Buscar por nombre","filterBy","name",3,"value","listStyle","dragdrop","onReorder"],["pTemplate","item","class","mt-3"],["header","",3,"visible","modal","styleClass","baseZIndex","autoZIndex","draggable","resizable","visibleChange"],[1,"col-12","row","m-0","justify-content-center"],[1,"row","m-0","p-0","flex-column","col-12","col-md-6"],["type","text",1,"invalid","mt-5","input-login",3,"ngModel","ngClass","placeholder","keyup.enter","keyup","ngModelChange"],[1,"btn1","mt-4",3,"click"],["class","btn3 bg-color6 pt-2 pb-2 mt-2",3,"click",4,"ngIf"],[3,"autoZIndex","baseZIndex"],["draggable","true",1,"item-list","row","justify-content-between","align-items-center","m-0","pl-2","pr-2"],[1,"font-700"],[1,"ml-3"],[1,"btn2","p-0","pl-3","pr-3",3,"click"],[1,"btn3","bg-color6","pt-2","pb-2","mt-2",3,"click"]],template:function(e,t){1&e&&(l.Tb(0,"div",0),l.Ob(1,"app-menu-admin",1),l.Tb(2,"div",2),l.Ob(3,"app-header-admin"),l.Tb(4,"div",3),l.Tb(5,"div",4),l.Tb(6,"h4"),l.Gc(7,"Distritos"),l.Sb(),l.Tb(8,"button",5),l.ac("click",function(){return t.addEdit()}),l.Ob(9,"i",6),l.Gc(10," Agregar "),l.Sb(),l.Sb(),l.Tb(11,"div",7),l.Tb(12,"p-orderList",8),l.ac("onReorder",function(){return t.updateAll()}),l.Ec(13,f,9,1,"ng-template",9),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Tb(14,"p-dialog",10),l.ac("visibleChange",function(e){return t.displayModal=e}),l.Tb(15,"div",11),l.Tb(16,"div",12),l.Tb(17,"input",13),l.ac("keyup.enter",function(){return t.add()})("keyup",function(){return t.invalid.name=!1})("ngModelChange",function(e){return t.currentItem.name=e}),l.Sb(),l.Tb(18,"button",14),l.ac("click",function(){return t.add()}),l.Gc(19,"Guardar"),l.Sb(),l.Ec(20,y,2,0,"button",15),l.Sb(),l.Sb(),l.Sb(),l.Ob(21,"p-confirmPopup",16)),2&e&&(l.Bb(12),l.jc("value",t.items)("listStyle",l.nc(16,S))("dragdrop",!0),l.Bb(2),l.jc("visible",t.displayModal)("modal",!0)("styleClass","modalLogin")("baseZIndex",1e4)("autoZIndex",!1)("draggable",!1)("resizable",!1),l.Bb(3),l.jc("ngModel",t.currentItem.name)("ngClass",l.oc(17,I,t.invalid.name))("placeholder","Distrito"),l.Bb(3),l.jc("ngIf",t.currentItem._id),l.Bb(1),l.jc("autoZIndex",!1)("baseZIndex",1000001))},directives:[m.a,u.a,p.a,b.g,h.a,g.a,g.d,g.e,r.i,r.k,v.a],styles:[""]}),e})()}];let T=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Lb({type:e}),e.\u0275inj=l.Kb({imports:[[s.d.forChild(w)],s.d]}),e})();var k=i("6TDQ"),j=i("k5Yg");let x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Lb({type:e}),e.\u0275inj=l.Kb({providers:[b.a],imports:[[r.c,T,k.a,j.a,v.b,p.b,h.b,g.b]]}),e})()}}]);