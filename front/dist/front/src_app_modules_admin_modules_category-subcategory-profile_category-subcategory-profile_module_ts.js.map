{"version":3,"file":"src_app_modules_admin_modules_category-subcategory-profile_category-subcategory-profile_module_ts.js","mappings":"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","sources":["./src/app/modules/admin/modules/category-subcategory-profile/category-subcategory-profile-routing.module.ts","./src/app/modules/admin/modules/category-subcategory-profile/category-subcategory-profile.component.ts","./src/app/modules/admin/modules/category-subcategory-profile/category-subcategory-profile.component.html","./src/app/modules/admin/modules/category-subcategory-profile/category-subcategory-profile.module.ts","./src/app/modules/admin/modules/category-subcategory-profile/interfaces/category-subcategory-profile.interfaces.ts","./src/app/modules/provider/modules/profile-provider/services/profile-provider.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CategorySubcategoryProfileComponent } from './category-subcategory-profile.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CategorySubcategoryProfileComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class CategorySubcategoryProfileRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { GeneralService } from '@services/general.service';\r\nimport { IResponseApi } from 'src/app/models/responses';\r\nimport { CategorySubcategoryProfileService } from './services/category-subcategory-profile.service';\r\nimport { ConfirmationService, MessageService } from 'primeng/api';\r\nimport { CCategorySubcategoryProfileInvalid, ICategorySubcategoryProfile } from './interfaces/category-subcategory-profile.interfaces';\r\nimport { ProfileProviderService } from 'src/app/modules/provider/modules/profile-provider/services/profile-provider.service';\r\nimport { CProfileProvider } from 'src/app/modules/provider/modules/profile-provider/models/profile-provider';\r\nimport { CategoryService } from '../category/services/category.service';\r\nimport { SubcategoryService } from '../subcategory/services/subcategory.service';\r\nimport { CCategory } from '../category/models/category';\r\nimport { CSubcategory } from '../subcategory/models/subcategory';\r\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\r\nimport { SectionService } from '../section/services/section.service';\r\nimport { IItemsData, ISectionsData } from './../section/models/section';\r\nimport { ISubitemSection } from './../../../../../../../back/src/models/subitem-section';\r\n\r\n@Component({\r\n  selector: 'app-category-subcategory-profile',\r\n  templateUrl: './category-subcategory-profile.component.html',\r\n  styleUrls: ['./category-subcategory-profile.component.scss']\r\n})\r\nexport class CategorySubcategoryProfileComponent implements OnInit {\r\n\r\n  currentList: ICategorySubcategoryProfile[] = []\r\n  currentItem: ICategorySubcategoryProfile = {\r\n    name: '',\r\n    categorySubcategoryId: '',\r\n    type: '',\r\n    profileProviderId: ''\r\n  }\r\n  displayModal: boolean = false\r\n  invalid: CCategorySubcategoryProfileInvalid = new CCategorySubcategoryProfileInvalid\r\n  profileProviders: CProfileProvider[]\r\n  currentProfileProvider: CProfileProvider\r\n  currentItemSectionId: string = ''\r\n  currentSubitemId: string = ''\r\n  currentSubitems: ISubitemSection[]\r\n  faTrash = faTrash\r\n  type: string\r\n  sections: ISectionsData[]\r\n  items: IItemsData[]\r\n\r\n  constructor(\r\n    private categorySubcategoryProfileService: CategorySubcategoryProfileService,\r\n    private messageService: MessageService,\r\n    private confirmationService: ConfirmationService,\r\n    private profileProviderService: ProfileProviderService,\r\n    private sectionService: SectionService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getProfiles()\r\n    this.getSections()\r\n  }\r\n\r\n  getProfiles(){\r\n    this.profileProviderService.getAllCompanies().subscribe((response: IResponseApi)=>{\r\n      this.profileProviders = response.data\r\n    }, error => {\r\n      this.messageService.add({ severity: 'error', summary: 'Error', detail: error.message });\r\n    })\r\n  }\r\n\r\n  getCategoriesAndSubcategoriesByProfileProfiderId(profileProviderId: string) {\r\n    this.categorySubcategoryProfileService.getByProfileProviderId(profileProviderId).subscribe((response: IResponseApi) => {\r\n      this.currentList = response.data\r\n    }, error => {\r\n      this.messageService.add({ severity: 'error', summary: 'Error', detail: error.message });\r\n    })\r\n  }\r\n\r\n  reset() {\r\n    this.currentList = null\r\n  }\r\n\r\n  addEdit(item: CProfileProvider = null) {\r\n    if (item) {\r\n      this.currentProfileProvider = item\r\n      this.getCategoriesAndSubcategoriesByProfileProfiderId(item._id)\r\n    } else {\r\n      this.reset()\r\n    }\r\n    this.displayModal = true\r\n  }\r\n\r\n\r\n  add2(){\r\n    if ((this.currentItemSectionId && this.currentSubitems?.length === 0) || (this.currentItemSectionId && this.currentSubitemId) ){\r\n      const payload: ICategorySubcategoryProfile = {\r\n        profileProviderId: this.currentProfileProvider._id,\r\n        categorySubcategoryId: this.currentSubitemId ? this.currentSubitemId: this.currentItemSectionId,\r\n        type: this.currentSubitemId?'subitem':'item',\r\n        name: this.currentSubitemId?\r\n          this.currentSubitems.find(s=>s._id === this.currentSubitemId).name :\r\n          this.items.find(i=>i.item._id === this.currentItemSectionId).item.name\r\n      }\r\n      this.categorySubcategoryProfileService.save(payload).subscribe((response: IResponseApi) => {\r\n        this.messageService.add({ severity: 'success', summary: 'Éxito', detail: response.message });\r\n        this.getCategoriesAndSubcategoriesByProfileProfiderId(this.currentProfileProvider._id)\r\n        this.reset2()\r\n      }, error => {\r\n        this.messageService.add({ severity: 'error', summary: 'Error', detail: error.message });\r\n      })\r\n\r\n    }else{\r\n      this.messageService.add({ severity: 'error', summary: 'Error', detail: 'Debe completar todos los campos' });\r\n    }\r\n  }\r\n\r\n  reset2(){\r\n    this.currentItemSectionId = ''\r\n    this.currentSubitemId = ''\r\n  }\r\n\r\n  confirm(event: Event, item:ICategorySubcategoryProfile) {\r\n    this.confirmationService.confirm({\r\n      target: event.target,\r\n      message: \"¿Segúro que desea eliminar?\",\r\n      icon: \"pi pi-exclamation-triangle\",\r\n      acceptLabel: \"Sí\",\r\n      rejectLabel: \"No\",\r\n      accept: () => {\r\n        this.delete(item);\r\n      },\r\n      reject: () => {\r\n        // Nothing\r\n      }\r\n    });\r\n  }\r\n\r\n  delete(item:ICategorySubcategoryProfile){\r\n    this.categorySubcategoryProfileService.delete(item._id).subscribe((response: IResponseApi) => {\r\n      this.messageService.add({ severity: 'success', summary: 'Éxito', detail: response.message });\r\n      this.getCategoriesAndSubcategoriesByProfileProfiderId(item.profileProviderId)\r\n    }, error => {\r\n      this.messageService.add({ severity: 'error', summary: 'Error', detail: error.message });\r\n    })\r\n  }\r\n\r\n  getSections(){\r\n    this.sectionService.get().subscribe((response: IResponseApi)=>{\r\n      this.sections = response.data\r\n      this.items = [].concat.apply([], this.sections.map(s=>s.items));\r\n    })\r\n  }\r\n\r\n  toogleItems($event){\r\n    this.currentSubitems = null\r\n    const val = $event.target.value\r\n    this.currentSubitems = [].concat.apply([], this.items.map(i=>{\r\n      if(i.item._id === val){\r\n        return i.subitems\r\n      }\r\n    })).filter(c=>c);\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"p-5\">\r\n    <div class=\"row m-0 justify-content-between align-items-center\">\r\n        <h4>Agregar categorías y/o subcategorías</h4>\r\n    </div>\r\n\r\n    <div *ngIf=\"profileProviders\" class=\"mt-5\">\r\n        <p-orderList\r\n        header=\"Lista de perfiles\"\r\n        filterPlaceholder=\"Buscar por nombre\"\r\n        filterBy=\"comercialName\"\r\n        [value]=\"profileProviders\"\r\n        [listStyle]=\"{'max-height':'30rem'}\"\r\n        [dragdrop]=\"true\"\r\n        >\r\n            <ng-template let-item pTemplate=\"item\" class=\"mt-3\">\r\n                <div draggable=\"true\" class=\"item-list row justify-content-between align-items-center m-0 pl-2 pr-2\">\r\n                    <div>\r\n                        <span class=\"font-700\">Negocio :</span><span class=\"ml-3\">{{item.comercialName}}</span>\r\n                    </div>\r\n                    <div>\r\n                        <button (click)=\"addEdit(item)\" class=\"btn2 p-0 pl-3 pr-3\">Editar</button>\r\n                    </div>\r\n                </div>\r\n            </ng-template>\r\n        </p-orderList>\r\n    </div>\r\n</div>\r\n\r\n<p-dialog\r\n    header=\"\"\r\n    [(visible)]=\"displayModal\"\r\n    [modal]=\"true\"\r\n    [styleClass]=\"'modalLogin'\"\r\n    [baseZIndex]=\"10000\"\r\n    [autoZIndex]=\"false\"\r\n    [draggable]=\"false\"\r\n    [resizable]=\"false\">\r\n\r\n\r\n    <div class=\"w-100 d-flex m-0 justify-content-center pb-5\">\r\n        <div *ngIf=\"currentProfileProvider\" class=\"row m-0 p-0 flex-column col-12 col-md-6\">\r\n            <h5 class=\"text-center\">{{currentProfileProvider.comercialName}}</h5>\r\n            <select (change)=\"toogleItems($event)\" class=\"mt-4\" [(ngModel)]=\"currentItemSectionId\">\r\n                <option value=\"\">Seleccione el item</option>\r\n                <option *ngFor=\"let item of items\" [value]=\"item.item._id\">{{item.item.name}}</option>\r\n            </select>\r\n            <select *ngIf=\"currentSubitems?.length>0\" class=\"mt-2\" [(ngModel)]=\"currentSubitemId\">\r\n                <option value=\"\">Seleccione el subitem</option>\r\n                <option *ngFor=\"let subitem of currentSubitems\" [value]=\"subitem?._id\">{{subitem?.name}}</option>\r\n            </select>\r\n            <button (click)=\"add2()\" [disabled]=\"!((currentItemSectionId && currentSubitems?.length === 0) || (currentItemSectionId && currentSubitemId))\" class=\"btn1 mt-2\">Agregar</button>\r\n            <div *ngIf=\"currentList\" class=\"mt-3 d-flex justify-content-center align-items-center flex-wrap border rounded\">\r\n                <div class=\"m-2 p-2 px-4 rounded\" [ngClass]=\"{'bg-color8': item.type==='subcategory', 'bg-color1': item.type==='category', 'bg-color6': item.type=='item', 'bg-color7': item.type=='subitem'}\" *ngFor=\"let item of currentList\">{{item.name}}\r\n                    <fa-icon (click)=\"confirm($event, item)\" class=\"f-15 text-color4 cursor\" [icon]=\"faTrash\"></fa-icon>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</p-dialog>\r\n\r\n<p-confirmDialog header=\"Confirmación\" icon=\"pi pi-exclamation-triangle\"></p-confirmDialog>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CategorySubcategoryProfileRoutingModule } from './category-subcategory-profile-routing.module';\r\nimport { CategorySubcategoryProfileComponent } from './category-subcategory-profile.component';\r\nimport { DialogModule } from 'primeng/dialog';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { OrderListModule } from 'primeng/orderlist';\r\nimport { ConfirmationService } from 'primeng/api';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { ConfirmDialogModule } from 'primeng/confirmdialog';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CategorySubcategoryProfileComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    CategorySubcategoryProfileRoutingModule,\r\n    DialogModule,\r\n    FormsModule,\r\n    ConfirmDialogModule,\r\n    OrderListModule,\r\n    FontAwesomeModule,\r\n  ],\r\n  providers: [\r\n    ConfirmationService\r\n  ]\r\n})\r\nexport class CategorySubcategoryProfileModule { }\r\n","export interface IPayloadCategorySubcategoryProfile{\r\n    categorySubcategoryId: string\r\n    type: string\r\n}\r\n\r\nexport interface ICategorySubcategoryProfile{\r\n    _id?: string\r\n    name: string\r\n    categorySubcategoryId: string\r\n    type: string\r\n    profileProviderId: string\r\n}\r\n\r\nexport class CCategorySubcategoryProfileInvalid{\r\n    constructor() {\r\n        this._id = false\r\n        this.name = false\r\n        this.categorySubcategoryId = false\r\n        this.type = false\r\n        this.profileProviderId = false\r\n    }\r\n    _id: boolean\r\n    name: boolean\r\n    categorySubcategoryId: boolean\r\n    type: boolean\r\n    profileProviderId: boolean\r\n}","import { Injectable } from '@angular/core';\r\nimport { ApiService } from './../../../../../services/api.service';\r\nimport { IDataApi } from '../../../../../models/dataapi';\r\nimport { GeneralService } from '@services/general.service';\r\nimport { AuthService } from 'src/app/modules/auth/services/auth.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ProfileProviderService {\r\n\r\n  model = 'profile-provider'\r\n\r\n  constructor(\r\n    private api: ApiService,\r\n    private general: GeneralService,\r\n    private authService: AuthService\r\n  ) { }\r\n\r\n  save(element: any) {\r\n    const data: IDataApi = {\r\n      service: element._id ? `update-${this.model}/${element._id}` : `save-${this.model}`,\r\n      type: element._id ? 'patch' : 'post',\r\n      data: element\r\n    }\r\n    return this.api.api(data)\r\n  }\r\n\r\n  search(payload) {\r\n    const data: IDataApi = {\r\n      service: `search-${this.model}`,\r\n      type: 'post',\r\n      data: payload\r\n    }\r\n    return this.api.api(data)\r\n  }\r\n\r\n  get() {\r\n    const data: IDataApi = {\r\n      service: `get-${this.model}-by-user-id/${this.authService.getUserID()}`,\r\n      type: 'get',\r\n      data: null\r\n    }\r\n    return this.api.api(data)\r\n  }\r\n\r\n  getById(id: string) {\r\n    const data: IDataApi = {\r\n      service: `get-${this.model}-by-id/${id}`,\r\n      type: 'get',\r\n      data: null\r\n    }\r\n    return this.api.api(data)\r\n  }\r\n\r\n  getAllById(id: string) {\r\n    const data: IDataApi = {\r\n      service: `get-all-${this.model}-by-id/${id}`,\r\n      type: 'get',\r\n      data: null\r\n    }\r\n    return this.api.api(data)\r\n  }\r\n\r\n  getByUserId(id: string) {\r\n    const data: IDataApi = {\r\n      service: `get-${this.model}-by-user-id/${id}`,\r\n      type: 'get',\r\n      data: null\r\n    }\r\n    return this.api.api(data)\r\n  }\r\n\r\n  getAllCompanies() {\r\n    const data: IDataApi = {\r\n      service: `get-${this.model}`,\r\n      type: 'get',\r\n      data: null\r\n    }\r\n    return this.api.api(data)\r\n  }\r\n\r\n  delete(id: string) {\r\n    const data: IDataApi = {\r\n      service: `delete-${this.model}/${id}`,\r\n      type: 'delete',\r\n      data: null\r\n    }\r\n    return this.api.api(data)\r\n  }\r\n\r\n  getUrlByProfileProviderId(id:string){\r\n    const data: IDataApi = {\r\n      service: `get-url-by-profile-provider-id/${id}`,\r\n      type: 'get',\r\n      data: null\r\n    }\r\n    return this.api.api(data)\r\n  }\r\n\r\n  getByArray(profileProviders: string[]){\r\n    const data: IDataApi = {\r\n      service: `get-${this.model}-by-array`,\r\n      type: 'post',\r\n      data: { profileProviders }\r\n    }\r\n    return this.api.api(data)\r\n  }\r\n\r\n  getUrlByUrl(url: string) {\r\n    const data: IDataApi = {\r\n      service: `get-url-by-url/${url}`,\r\n      type: 'get',\r\n      data: null\r\n    }\r\n    return this.api.api(data)\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}