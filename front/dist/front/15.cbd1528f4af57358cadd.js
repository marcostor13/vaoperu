(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"4fuH":function(e,t,r){"use strict";r.d(t,"a",function(){return s});var i=r("fXoL"),n=r("FQVY"),o=r("/JoM"),c=r("kSmT");let s=(()=>{class e{constructor(e,t){this.authService=e,this.general=t,this.output=new i.n}ngOnInit(){this.items=[{label:"Panel",routerLink:"/admin/dashboard"},{label:"Comercial",items:[{label:"Categorias",routerLink:"/admin/categories"},{label:"Subcategor\xedas",routerLink:"/admin/subcategories"}]},{label:"General",items:[{label:"Distritos",routerLink:"/admin/districts"}]},{label:"Usuarios",items:[{label:"Registro",routerLink:"/admin/users"},{label:"Urls",routerLink:"/admin/urls"},{label:"Asignaci\xf3n categor\xedas",routerLink:"/admin/category-subcategory-profile"}]},{label:"Salir",icon:"pi arrow-left",styleClass:"bg-color1 text-color1",command:()=>this.logout()}],this.validateSession()}validateSession(){this.user=this.authService.isLoginUser()}logout(){this.authService.logout()}}return e.\u0275fac=function(t){return new(t||e)(i.Nb(o.a),i.Nb(n.a))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-menu-admin"]],outputs:{output:"output"},decls:5,vars:4,consts:[[1,"menu","pt-4"],[1,"p-5"],[1,"text-center"],[3,"transitionOptions","model","styleClass"]],template:function(e,t){1&e&&(i.Tb(0,"div",0),i.Tb(1,"div",1),i.Tb(2,"h5",2),i.Gc(3),i.Sb(),i.Sb(),i.Ob(4,"p-panelMenu",3),i.Sb()),2&e&&(i.Bb(3),i.Ic("Hola! ",t.user.name,""),i.Bb(1),i.jc("transitionOptions","100ms")("model",t.items)("styleClass","panel-menu"))},directives:[c.a],styles:[".menu[_ngcontent-%COMP%]{max-width:250px;min-width:250px;min-height:100vh;border-right:1px solid #13bf9e}"]}),e})()},"6TDQ":function(e,t,r){"use strict";r.d(t,"a",function(){return c});var i=r("ofXK"),n=r("kSmT"),o=r("fXoL");let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({imports:[[i.c,n.b]]}),e})()},jZuT:function(e,t,r){"use strict";r.r(t),r.d(t,"CategorySubcategoryProfileModule",function(){return N});var i=r("ofXK"),n=r("tyNb"),o=r("FQVY"),c=r("sUgg");class s{constructor(){this._id=!1,this.name=!1,this.categorySubcategoryId=!1,this.type=!1,this.profileProviderId=!1}}var a=r("zhhV"),l=r("2K/p"),u=r("wDSy"),d=r("wHSu"),g=r("fXoL"),b=r("7zfz"),f=r("4fuH"),m=r("yWK+"),h=r("/RsI"),p=r("Nf9I"),y=r("cQJI"),v=r("3Pt+"),S=r("6NWb");function C(e,t){if(1&e){const e=g.Ub();g.Tb(0,"div",13),g.Tb(1,"div"),g.Tb(2,"span",14),g.Gc(3,"Negocio :"),g.Sb(),g.Tb(4,"span",15),g.Gc(5),g.Sb(),g.Sb(),g.Tb(6,"div"),g.Tb(7,"button",16),g.ac("click",function(){g.yc(e);const r=t.$implicit;return g.dc(2).addEdit(r)}),g.Gc(8,"Editar"),g.Sb(),g.Sb(),g.Sb()}if(2&e){const e=t.$implicit;g.Bb(5),g.Hc(e.comercialName)}}const P=function(){return{"max-height":"30rem"}};function T(e,t){if(1&e&&(g.Tb(0,"div",10),g.Tb(1,"p-orderList",11),g.Ec(2,C,9,1,"ng-template",12),g.Sb(),g.Sb()),2&e){const e=g.dc();g.Bb(1),g.jc("value",e.profileProviders)("listStyle",g.nc(3,P))("dragdrop",!0)}}function w(e,t){if(1&e&&(g.Tb(0,"option",25),g.Gc(1),g.Sb()),2&e){const e=t.$implicit;g.jc("value",e._id),g.Bb(1),g.Hc(e.name)}}function I(e,t){if(1&e&&(g.Tb(0,"option",25),g.Gc(1),g.Sb()),2&e){const e=t.$implicit;g.jc("value",e._id),g.Bb(1),g.Hc(e.name)}}function x(e,t){if(1&e){const e=g.Ub();g.Tb(0,"select",26),g.ac("ngModelChange",function(t){return g.yc(e),g.dc(2).currentSubcategory=t}),g.Tb(1,"option",20),g.Gc(2,"Seleccione la subcategor\xeda"),g.Sb(),g.Ec(3,I,2,2,"option",21),g.Sb()}if(2&e){const e=g.dc(2);g.jc("ngModel",e.currentSubcategory),g.Bb(3),g.jc("ngForOf",e.currentSubcategories)}}const j=function(e,t){return{"bg-color8":e,"bg-color1":t}};function M(e,t){if(1&e){const e=g.Ub();g.Tb(0,"div",29),g.Gc(1),g.Tb(2,"fa-icon",30),g.ac("click",function(r){g.yc(e);const i=t.$implicit;return g.dc(3).confirm(r,i)}),g.Sb(),g.Sb()}if(2&e){const e=t.$implicit,r=g.dc(3);g.jc("ngClass",g.pc(3,j,"subcategory"===e.type,"category"===e.type)),g.Bb(1),g.Ic("",e.name," "),g.Bb(1),g.jc("icon",r.faTrash)}}function k(e,t){if(1&e&&(g.Tb(0,"div",27),g.Ec(1,M,3,6,"div",28),g.Sb()),2&e){const e=g.dc(2);g.Bb(1),g.jc("ngForOf",e.currentList)}}function B(e,t){if(1&e){const e=g.Ub();g.Tb(0,"div",17),g.Tb(1,"h5",18),g.Gc(2),g.Sb(),g.Tb(3,"select",19),g.ac("change",function(){return g.yc(e),g.dc().toogleSubcategories()})("ngModelChange",function(t){return g.yc(e),g.dc().currentCategory=t}),g.Tb(4,"option",20),g.Gc(5,"Seleccione la categor\xeda"),g.Sb(),g.Ec(6,w,2,2,"option",21),g.Sb(),g.Ec(7,x,4,2,"select",22),g.Tb(8,"button",23),g.ac("click",function(){return g.yc(e),g.dc().add()}),g.Gc(9,"Agregar"),g.Sb(),g.Ec(10,k,2,1,"div",24),g.Sb()}if(2&e){const e=g.dc();g.Bb(2),g.Hc(e.currentProfileProvider.comercialName),g.Bb(1),g.jc("ngModel",e.currentCategory),g.Bb(3),g.jc("ngForOf",e.categories),g.Bb(1),g.jc("ngIf",(null==e.currentSubcategories?null:e.currentSubcategories.length)>0),g.Bb(1),g.jc("disabled",!(e.currentCategory&&0===(null==e.currentSubcategories?null:e.currentSubcategories.length)||e.currentCategory&&e.currentSubcategory)),g.Bb(2),g.jc("ngIf",e.currentList)}}const O=[{path:"",component:(()=>{class e{constructor(e,t,r,i,n,o,c){this.categorySubcategoryProfileService=e,this.general=t,this.messageService=r,this.confirmationService=i,this.profileProviderService=n,this.categoryService=o,this.subcategoryService=c,this.currentList=[],this.currentItem={name:"",categorySubcategoryId:"",type:"",profileProviderId:""},this.displayModal=!1,this.invalid=new s,this.currentCategory="",this.currentSubcategory="",this.faTrash=d.i}ngOnInit(){this.getProfiles(),this.getCategories(),this.getSubcategories()}getProfiles(){this.profileProviderService.getAllCompanies().subscribe(e=>{this.general.c("getProfiles",e),this.profileProviders=e.data},e=>{this.messageService.add({severity:"error",summary:"Error",detail:e.message})})}getCategories(){this.categoryService.get().subscribe(e=>{this.general.c("getCategories",e),this.categories=e.data},e=>{this.messageService.add({severity:"error",summary:"Error",detail:e.message})})}getSubcategories(){this.subcategoryService.get().subscribe(e=>{this.general.c("getSubcategories",e),this.subcategories=e.data},e=>{this.messageService.add({severity:"error",summary:"Error",detail:e.message})})}getCategoriesAndSubcategoriesByProfileProfiderId(e){this.categorySubcategoryProfileService.getByProfileProviderId(e).subscribe(e=>{this.general.c("getCategoriesAndSubcategoriesByProfileProfiderId",e.data),this.currentList=e.data},e=>{this.messageService.add({severity:"error",summary:"Error",detail:e.message})})}reset(){this.currentList=null}addEdit(e=null){this.general.c("ITem",e),e?(this.currentProfileProvider=e,this.getCategoriesAndSubcategoriesByProfileProfiderId(e._id)):this.reset(),this.displayModal=!0}toogleSubcategories(){this.currentSubcategories=null,this.currentCategory&&(this.currentSubcategories=this.subcategories.filter(e=>e.categoryId===this.currentCategory))}add(){if(this.currentCategory&&0===this.currentSubcategories.length||this.currentCategory&&this.currentSubcategory){const e={profileProviderId:this.currentProfileProvider._id,categorySubcategoryId:this.currentSubcategory?this.currentSubcategory:this.currentCategory,type:this.currentSubcategory?"subcategory":"category",name:this.currentSubcategory?this.subcategories.filter(e=>e._id===this.currentSubcategory)[0].name:this.categories.filter(e=>e._id===this.currentCategory)[0].name};this.categorySubcategoryProfileService.save(e).subscribe(e=>{this.general.c("add",e.data),this.messageService.add({severity:"success",summary:"\xc9xito",detail:e.message}),this.getCategoriesAndSubcategoriesByProfileProfiderId(this.currentProfileProvider._id)},e=>{this.messageService.add({severity:"error",summary:"Error",detail:e.message})})}else this.messageService.add({severity:"error",summary:"Error",detail:"Debe completar todos los campos"})}confirm(e,t){this.confirmationService.confirm({target:e.target,message:"\xbfSeg\xfaro que desea eliminar?",icon:"pi pi-exclamation-triangle",acceptLabel:"S\xed",rejectLabel:"No",accept:()=>{this.delete(t)},reject:()=>{}})}delete(e){this.categorySubcategoryProfileService.delete(e._id).subscribe(t=>{this.messageService.add({severity:"success",summary:"\xc9xito",detail:t.message}),this.getCategoriesAndSubcategoriesByProfileProfiderId(e.profileProviderId)},e=>{this.messageService.add({severity:"error",summary:"Error",detail:e.message})})}}return e.\u0275fac=function(t){return new(t||e)(g.Nb(c.a),g.Nb(o.a),g.Nb(b.f),g.Nb(b.b),g.Nb(a.a),g.Nb(l.a),g.Nb(u.a))},e.\u0275cmp=g.Hb({type:e,selectors:[["app-category-subcategory-profile"]],decls:13,vars:9,consts:[[1,"row","m-0"],[1,"d-none","d-md-flex"],[1,"flex-1"],[1,"p-5"],[1,"row","m-0","justify-content-between","align-items-center"],["class","mt-5",4,"ngIf"],["header","",3,"visible","modal","styleClass","baseZIndex","autoZIndex","draggable","resizable","visibleChange"],[1,"col-12","row","m-0","justify-content-center"],["class","row m-0 p-0 flex-column col-12 col-md-6",4,"ngIf"],["header","Confirmaci\xf3n","icon","pi pi-exclamation-triangle"],[1,"mt-5"],["header","Lista de perfiles","filterPlaceholder","Buscar por nombre","filterBy","name",3,"value","listStyle","dragdrop"],["pTemplate","item","class","mt-3"],["draggable","true",1,"item-list","row","justify-content-between","align-items-center","m-0","pl-2","pr-2"],[1,"font-700"],[1,"ml-3"],[1,"btn2","p-0","pl-3","pr-3",3,"click"],[1,"row","m-0","p-0","flex-column","col-12","col-md-6"],[1,"text-center"],[1,"mt-4",3,"ngModel","change","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","mt-2",3,"ngModel","ngModelChange",4,"ngIf"],[1,"btn1","mt-2",3,"disabled","click"],["class","mt-3 d-flex justify-content-center align-items-center flex-wrap border rounded",4,"ngIf"],[3,"value"],[1,"mt-2",3,"ngModel","ngModelChange"],[1,"mt-3","d-flex","justify-content-center","align-items-center","flex-wrap","border","rounded"],["class","m-2 p-2 px-4 rounded",3,"ngClass",4,"ngFor","ngForOf"],[1,"m-2","p-2","px-4","rounded",3,"ngClass"],[1,"f-15","text-color4","cursor",3,"icon","click"]],template:function(e,t){1&e&&(g.Tb(0,"div",0),g.Ob(1,"app-menu-admin",1),g.Tb(2,"div",2),g.Ob(3,"app-header-admin"),g.Tb(4,"div",3),g.Tb(5,"div",4),g.Tb(6,"h4"),g.Gc(7,"Agregar categor\xedas y/o subcategor\xedas"),g.Sb(),g.Sb(),g.Ec(8,T,3,4,"div",5),g.Sb(),g.Sb(),g.Sb(),g.Tb(9,"p-dialog",6),g.ac("visibleChange",function(e){return t.displayModal=e}),g.Tb(10,"div",7),g.Ec(11,B,11,6,"div",8),g.Sb(),g.Sb(),g.Ob(12,"p-confirmDialog",9)),2&e&&(g.Bb(8),g.jc("ngIf",t.profileProviders),g.Bb(1),g.jc("visible",t.displayModal)("modal",!0)("styleClass","modalLogin")("baseZIndex",1e4)("autoZIndex",!1)("draggable",!1)("resizable",!1),g.Bb(2),g.jc("ngIf",t.currentProfileProvider))},directives:[f.a,m.a,i.k,h.a,p.a,y.a,b.h,v.h,v.d,v.e,v.f,v.i,i.j,i.i,S.a],styles:[""]}),e})()}];let L=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.Lb({type:e}),e.\u0275inj=g.Kb({imports:[[n.f.forChild(O)],n.f]}),e})();var E=r("k5Yg"),_=r("6TDQ");let N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.Lb({type:e}),e.\u0275inj=g.Kb({providers:[b.b],imports:[[i.c,L,h.b,v.b,p.b,y.b,_.a,E.a,S.b]]}),e})()},k5Yg:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var i=r("ofXK"),n=r("6NWb"),o=r("6TDQ"),c=r("tyNb"),s=r("fXoL");let a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Lb({type:e}),e.\u0275inj=s.Kb({imports:[[i.c,n.b,o.a,c.f]]}),e})()},"yWK+":function(e,t,r){"use strict";r.d(t,"a",function(){return m});var i=r("wHSu"),n=r("FQVY"),o=r("/JoM"),c=r("fXoL"),s=r("tyNb"),a=r("ofXK"),l=r("6NWb"),u=r("4fuH");function d(e,t){if(1&e){const e=c.Ub();c.Tb(0,"fa-icon",7),c.ac("click",function(){return c.yc(e),c.dc().logout()}),c.Sb()}if(2&e){const e=c.dc();c.jc("icon",e.faSignOutAlt)}}const g=function(e,t){return{"slide-left":e,"slide-right":t}};function b(e,t){if(1&e){const e=c.Ub();c.Tb(0,"div",8),c.Tb(1,"div",9),c.Tb(2,"fa-icon",10),c.ac("click",function(){return c.yc(e),c.dc().slideMenu()}),c.Sb(),c.Sb(),c.Ob(3,"app-menu-admin",11),c.Sb()}if(2&e){const e=c.dc();c.Bb(1),c.jc("ngClass",c.pc(3,g,!e.menu,e.menu)),c.Bb(1),c.jc("icon",e.faTimes),c.Bb(1),c.jc("ngClass",c.pc(6,g,!e.menu,e.menu))}}const f=function(){return["/"]};let m=(()=>{class e{constructor(e,t){this.authService=e,this.general=t,this.faSearch=i.e,this.faChevronDown=i.a,this.faSignOutAlt=i.f,this.faTimes=i.h,this.menu=!1}ngOnInit(){this.validateSession()}validateSession(){this.user=this.authService.isLoginUser()}slideMenu(){this.menu=!this.menu}logout(){this.authService.logout()}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(o.a),c.Nb(n.a))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-header-admin"]],decls:10,vars:4,consts:[[1,"bg-color1","pt-2","pb-2","pt-md-4","pb-md-4","pl-5","pr-5","row","m-0","justify-content-between","align-items-center"],[1,"row","align-items-center"],[1,"d-flex","d-md-none","hamburger","cursor",3,"click"],[1,"cursor",3,"routerLink"],["width","57","src","assets/img/logo.png","alt","VaoPEr\xfa",1,"ml-5"],["class","f-18 ml-4 cursor row text-white",3,"icon","click",4,"ngIf"],["class","d-flex d-md-none menu-admin-container",4,"ngIf"],[1,"f-18","ml-4","cursor","row","text-white",3,"icon","click"],[1,"d-flex","d-md-none","menu-admin-container"],[1,"close","row","justify-content-end","pr-4","pt-4",3,"ngClass"],[1,"f-18","ml-4","cursor","row",3,"icon","click"],[1,"menu-admin",3,"ngClass"]],template:function(e,t){1&e&&(c.Tb(0,"header",0),c.Tb(1,"div",1),c.Tb(2,"div",2),c.ac("click",function(){return t.slideMenu()}),c.Ob(3,"label"),c.Ob(4,"label"),c.Ob(5,"label"),c.Sb(),c.Tb(6,"h1",3),c.Ob(7,"img",4),c.Sb(),c.Sb(),c.Ec(8,d,1,1,"fa-icon",5),c.Sb(),c.Ec(9,b,4,9,"div",6)),2&e&&(c.Bb(6),c.jc("routerLink",c.nc(3,f)),c.Bb(2),c.jc("ngIf",t.user),c.Bb(1),c.jc("ngIf",t.menu))},directives:[s.c,a.k,l.a,a.i,u.a],styles:["header[_ngcontent-%COMP%]{width:100%}header[_ngcontent-%COMP%]   .hamburger[_ngcontent-%COMP%]{display:flex;flex-direction:column}header[_ngcontent-%COMP%]   .hamburger[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#fff;min-height:3px;min-width:26px}.menu-admin-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:rgba(0,0,0,.2);min-width:100vw;min-height:100vh;z-index:1}.menu-admin-container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:0;left:-260px;z-index:2;min-width:240px}.menu-admin-container[_ngcontent-%COMP%]   .menu-admin[_ngcontent-%COMP%]{background-color:#fff;position:absolute;top:0;left:-260px}.slide-left[_ngcontent-%COMP%]{animation:slide-left .3s ease-in-out normal forwards;animation-iteration-count:1}.slide-right[_ngcontent-%COMP%]{animation:slide-right .3s ease-in-out normal forwards;animation-iteration-count:1}@keyframes slide-left{0%{left:0}to{left:-260px}}@keyframes slide-right{0%{left:-260px}to{left:0}}"]}),e})()},zhhV:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var i=r("H+bZ"),n=r("FQVY"),o=r("/JoM"),c=r("fXoL");let s=(()=>{class e{constructor(e,t,r){this.api=e,this.general=t,this.authService=r,this.model="profile-provider"}save(e){return this.general.c("SAVE ELEMEENT",e.userid),this.api.api({service:e._id?`update-${this.model}/${e._id}`:`save-${this.model}`,type:e._id?"patch":"post",data:e})}get(){const e={service:`get-${this.model}-by-userid/${this.authService.getUserID()}`,type:"get",data:null};return this.api.api(e)}getById(e){return this.api.api({service:`get-${this.model}-by-id/${e}`,type:"get",data:null})}getAllCompanies(){return this.api.api({service:`get-${this.model}`,type:"get",data:null})}delete(e){return this.api.api({service:`delete-${this.model}/${e}`,type:"delete",data:null})}getUrlByProfileProviderId(e){return this.api.api({service:`get-url-by-profile-provider-id/${e}`,type:"get",data:null})}getUrlByUrl(e){return this.api.api({service:`get-url-by-url/${e}`,type:"get",data:null})}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(i.a),c.Xb(n.a),c.Xb(o.a))},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);