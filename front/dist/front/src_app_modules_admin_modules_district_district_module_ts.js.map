{"version":3,"file":"src_app_modules_admin_modules_district_district_module_ts.js","mappings":"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","sources":["./src/app/modules/admin/modules/district/district-routing.module.ts","./src/app/modules/admin/modules/district/district.component.ts","./src/app/modules/admin/modules/district/district.component.html","./src/app/modules/admin/modules/district/district.module.ts","./src/app/modules/admin/modules/district/models/district.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { DistrictComponent } from './district.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DistrictComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class DistrictRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { GeneralService } from '@services/general.service';\r\nimport { ConfirmationService, MessageService } from 'primeng/api';\r\nimport { IResponseApi, IResponseFront } from 'src/app/models/responses';\r\nimport { SubSink } from 'subsink';\r\nimport { CDistrict, CDistrictInvalid } from './models/district'\r\nimport { DistrictService } from './services/district.service';\r\n\r\n@Component({\r\n  selector: 'app-district',\r\n  templateUrl: './district.component.html',\r\n  styleUrls: ['./district.component.scss']\r\n})\r\n\r\nexport class DistrictComponent implements OnInit {\r\n\r\n  public subs = new SubSink()\r\n  displayModal: boolean = false\r\n  items: CDistrict[]\r\n  currentItem: CDistrict = new CDistrict\r\n  invalid: CDistrictInvalid = new CDistrictInvalid\r\n\r\n  constructor(\r\n    private districtService: DistrictService,\r\n    private general: GeneralService,\r\n    private confirmationService: ConfirmationService,\r\n    private messageService: MessageService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.get()\r\n  }\r\n\r\n  get() {\r\n    this.subs.add(\r\n      this.districtService.get().subscribe((response: IResponseApi) => {\r\n        this.items = response.data\r\n\r\n      }, error => {\r\n\r\n        this.messageService.add({ severity: 'error', summary: 'Error', detail: error.error.message });\r\n      })\r\n    )\r\n  }\r\n\r\n  validate() {\r\n    this.invalid = new CDistrictInvalid\r\n    let invalid = false\r\n    if (!this.currentItem.name) {\r\n      invalid = true\r\n      this.invalid.name = true\r\n      this.messageService.add({ severity: 'error', summary: 'Error', detail: 'Debe completar todos los campos requeridos' });\r\n    }\r\n    return invalid\r\n  }\r\n\r\n  reset() {\r\n    this.currentItem = new CDistrict\r\n  }\r\n\r\n  addEdit(item: CDistrict = null) {\r\n    if (item) {\r\n      this.currentItem = item\r\n    } else {\r\n      this.reset()\r\n    }\r\n    this.displayModal = true\r\n  }\r\n\r\n  confirm(event: Event, item: CDistrict) {\r\n    this.confirmationService.confirm({\r\n      target: event.target,\r\n      message: \"¿Segúro que desea eliminar?\",\r\n      icon: \"pi pi-exclamation-triangle\",\r\n      acceptLabel: \"Sí\",\r\n      rejectLabel: \"No\",\r\n      accept: () => {\r\n        this.delete(item);\r\n      },\r\n      reject: () => {\r\n        // Nothing\r\n      }\r\n    });\r\n  }\r\n\r\n  add() {\r\n    if (!this.validate()){\r\n      this.subs.add(\r\n        this.districtService.save(this.currentItem).subscribe((response: IResponseApi) => {\r\n          this.messageService.add({ severity: 'success', summary: 'Mensaje', detail: response.message });\r\n          this.currentItem = new CDistrict\r\n          this.get()\r\n        }, error => {\r\n\r\n          this.messageService.add({ severity: 'error', summary: 'Error', detail: error.error.message });\r\n        })\r\n      )\r\n    }\r\n  }\r\n\r\n  updateAll(){\r\n    this.subs.add(\r\n      this.districtService.updateAll(this.items).subscribe((response: IResponseApi) => {\r\n        this.messageService.add({ severity: 'success', summary: 'Mensaje', detail: response.message });\r\n        this.currentItem = new CDistrict\r\n        this.get()\r\n      }, error => {\r\n\r\n        this.messageService.add({ severity: 'error', summary: 'Error', detail: error.error.message });\r\n      })\r\n    )\r\n  }\r\n\r\n  delete(item: CDistrict) {\r\n    this.subs.add(\r\n      this.districtService.delete(item._id).subscribe((response: IResponseApi) => {\r\n        this.messageService.add({ severity: 'success', summary: 'Mensaje', detail: response.message });\r\n        this.currentItem = new CDistrict\r\n        this.get()\r\n      }, error => {\r\n\r\n        this.messageService.add({ severity: 'error', summary: 'Error', detail: error.error.message });\r\n      })\r\n    )\r\n  }\r\n\r\n  getElementByID(id: string) {\r\n    return this.items.filter((item: CDistrict) => item._id === id)\r\n  }\r\n\r\n}\r\n","<div class=\"p-5\">\r\n    <div class=\"row m-0 justify-content-between align-items-center\">\r\n        <h4>Distritos</h4>\r\n        <button class=\"btn2\" (click)=\"addEdit()\">\r\n            <i class=\"pi pi-plus mr-2\"></i>\r\n            Agregar\r\n        </button>\r\n    </div>\r\n    \r\n    <div class=\"mt-5\">\r\n        <p-orderList \r\n        header=\"Lista de distritos\"\r\n        filterPlaceholder=\"Buscar por nombre\"\r\n        filterBy=\"name\"\r\n        [value]=\"items\" \r\n        [listStyle]=\"{'max-height':'30rem'}\"\r\n        [dragdrop]=\"true\" \r\n        (onReorder)=\"updateAll()\">\r\n            <ng-template let-item pTemplate=\"item\" class=\"mt-3\">\r\n                <div draggable=\"true\" class=\"item-list row justify-content-between align-items-center m-0 pl-2 pr-2\">\r\n                    <div>\r\n                        <span class=\"font-700\">Nombre :</span><span class=\"ml-3\">{{item.name}}</span>\r\n                    </div>\r\n                    <div>\r\n                        <button (click)=\"addEdit(item)\" class=\"btn2 p-0 pl-3 pr-3\">Editar</button>\r\n                    </div>\r\n                </div>\r\n            </ng-template>\r\n        </p-orderList>\r\n    </div>\r\n</div>\r\n\r\n<p-dialog \r\n    header=\"\" \r\n    [(visible)]=\"displayModal\" \r\n    [modal]=\"true\" \r\n    [styleClass]=\"'modalLogin'\" \r\n    [baseZIndex]=\"10000\"\r\n    [autoZIndex]=\"false\"\r\n    [draggable]=\"false\"\r\n    [resizable]=\"false\">\r\n\r\n    <div class=\"col-12 row m-0 justify-content-center\">\r\n        <div class=\"row m-0 p-0 flex-column col-12 col-md-6\">            \r\n            <input type=\"text\" (keyup.enter)=\"add()\" (keyup)=\"invalid.name=false\" [(ngModel)]=\"currentItem.name\" class=\"invalid mt-5 input-login\" [ngClass]=\"{'invalid': invalid.name}\" [placeholder]=\"'Distrito'\">             \r\n            <button (click)=\"add()\" class=\"btn1 mt-4\">Guardar</button>            \r\n            <button *ngIf=\"currentItem._id\" (click)=\"confirm($event, currentItem)\" class=\"btn3 bg-color6 pt-2 pb-2 mt-2\">Eliminar</button>             \r\n        </div>\r\n    </div>\r\n\r\n</p-dialog>\r\n\r\n<p-confirmPopup [autoZIndex]=\"false\" [baseZIndex]=\"1000001\" ></p-confirmPopup>\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { DistrictRoutingModule } from './district-routing.module';\r\nimport { DistrictComponent } from './district.component';\r\nimport { ConfirmPopupModule } from \"primeng/confirmpopup\";\r\nimport { ConfirmationService } from 'primeng/api';\r\nimport { OrderListModule } from 'primeng/orderlist';\r\nimport { DialogModule } from 'primeng/dialog';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n  declarations: [DistrictComponent],\r\n  imports: [\r\n    CommonModule,\r\n    DistrictRoutingModule,\r\n    ConfirmPopupModule,\r\n    OrderListModule,\r\n    DialogModule,\r\n    FormsModule,\r\n  ],\r\n  providers: [ConfirmationService]\r\n})\r\nexport class DistrictModule { }\r\n","export class CDistrict{\r\n    constructor(){\r\n        this.name = ''\r\n    }\r\n    _id: string\r\n    name: string\r\n}\r\n\r\nexport class CDistrictInvalid {\r\n    constructor() {\r\n        this._id = false\r\n        this.name = false\r\n    }\r\n    _id: boolean\r\n    name: boolean\r\n}"],"names":[],"sourceRoot":"webpack:///"}