(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{RBaQ:function(t,a,e){"use strict";e.r(a),e.d(a,"PasspageModule",(function(){return b}));var s=e("ofXK"),r=e("tyNb"),n=e("33Jv"),i=e("rPfT"),o=e("fXoL"),c=e("FQVY"),l=e("H+bZ");let u=(()=>{class t{constructor(t){this.api=t}getUrlData(t,a){let e="";return e=a?`get-urls-by-companyid-and-code/${a}/${t}`:"get-urls-by-code/"+t,this.api.api({service:e,type:"get",data:null})}}return t.\u0275fac=function(a){return new(a||t)(o.Vb(l.a))},t.\u0275prov=o.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=e("tTR6");const d=[{path:"",component:(()=>{class t{constructor(t,a,e,s,r){this.route=t,this.general=a,this.passpageService=e,this.landingService=s,this.router=r,this.subs=new n.a,this.companyID=this.route.snapshot.paramMap.get("companyID"),this.code=this.route.snapshot.paramMap.get("code"),this.getUrlData()}ngOnInit(){}getUrlData(){this.subs.add(this.passpageService.getUrlData(this.code,this.companyID).subscribe(t=>{var a;if(this.general.c("GetURLData",t.data),t.data||t.data.length>0){const e=new i.a;this.urlData=t.data[0],e.landingid=(null===(a=this.urlData)||void 0===a?void 0:a.landingID)||null,e.data.dataLanding=this.urlData,e.companyID=this.urlData.companyID,e.urlID=this.urlData._id,e.url=this.urlData.longURL,e.shortURL=this.urlData.shortUrl,e.type="redirect",this.landingService.saveEvent(e).subscribe(),window.location.href=`${this.urlData.longURL}/${this.urlData._id}`}else this.res="No existe la p\xe1gina"}))}}return t.\u0275fac=function(a){return new(a||t)(o.Lb(r.a),o.Lb(c.a),o.Lb(u),o.Lb(p.a),o.Lb(r.b))},t.\u0275cmp=o.Fb({type:t,selectors:[["app-passpage"]],decls:2,vars:1,template:function(t,a){1&t&&(o.Rb(0,"p"),o.Ec(1),o.Qb()),2&t&&(o.zb(1),o.Fc(a.res))},styles:[""]}),t})()}];let h=(()=>{class t{}return t.\u0275mod=o.Jb({type:t}),t.\u0275inj=o.Ib({factory:function(a){return new(a||t)},imports:[[r.c.forChild(d)],r.c]}),t})(),b=(()=>{class t{}return t.\u0275mod=o.Jb({type:t}),t.\u0275inj=o.Ib({factory:function(a){return new(a||t)},imports:[[s.c,h]]}),t})()}}]);