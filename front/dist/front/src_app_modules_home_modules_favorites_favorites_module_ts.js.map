{"version":3,"file":"src_app_modules_home_modules_favorites_favorites_module_ts.js","mappings":"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","sources":["./src/app/modules/home/modules/favorites/favorites-routing.module.ts","./src/app/modules/home/modules/favorites/favorites.component.ts","./src/app/modules/home/modules/favorites/favorites.component.html","./src/app/modules/home/modules/favorites/favorites.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { FavoritesComponent } from './favorites.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FavoritesComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class FavoritesRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { GeneralService } from '@services/general.service';\r\nimport { MessageService } from 'primeng/api';\r\nimport { IResponseApi } from 'src/app/models/responses';\r\nimport { AuthService } from 'src/app/modules/auth/services/auth.service';\r\nimport { CProfileProvider } from 'src/app/modules/provider/modules/profile-provider/models/profile-provider';\r\nimport { ProfileProviderService } from 'src/app/modules/provider/modules/profile-provider/services/profile-provider.service';\r\nimport { FavoriteService } from './../../../../shared/services/favorite/favorite.service';\r\nimport { IFavoriteData } from './interfaces/favorite.interface';\r\n\r\n@Component({\r\n  selector: 'app-favorites',\r\n  templateUrl: './favorites.component.html',\r\n  styleUrls: ['./favorites.component.scss']\r\n})\r\nexport class FavoritesComponent implements OnInit {\r\n\r\n  eventHeader:any\r\n  currentProfileProviders: CProfileProvider[]\r\n  profileProviders: CProfileProvider[]\r\n\r\n  constructor(\r\n    private general:GeneralService,\r\n    private profileProviderService: ProfileProviderService,\r\n    private favoriteService: FavoriteService,\r\n    private authService: AuthService,\r\n    private messageService:MessageService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.getProfilesProvider()\r\n  }\r\n\r\n  getFavorites(){\r\n    if (this.authService.getUserID()){\r\n      this.favoriteService.getByClientId(this.authService.getUserID()).subscribe((response: IResponseApi) => {\r\n        const favorites: IFavoriteData[] = response.data\r\n        const favoritesArray: string[] = favorites.map(favorite => { return favorite.profileProviderId })\r\n        this.currentProfileProviders = this.profileProviders.filter(profile => favoritesArray.includes(profile._id))\r\n      }, error => {\r\n        this.messageService.add({ severity: 'error', summary: 'Error', detail: error.error.message });\r\n      })\r\n    }else{\r\n      this.messageService.add({ severity: 'warning', summary: 'Mensaje', detail: 'No se encontraron favoritos' });\r\n    }\r\n  }\r\n\r\n  getProfilesProvider(){\r\n    this.profileProviderService.getAllCompanies().subscribe((response: IResponseApi) => {\r\n      this.profileProviders = response.data\r\n      this.getFavorites()\r\n    }, error => {\r\n      this.messageService.add({ severity: 'error', summary: 'Error', detail: error.error.message });\r\n    })\r\n  }\r\n\r\n  companyListEvent($event: any) {\r\n    switch ($event.event) {\r\n      case 'open-login':\r\n        this.eventHeader = $event\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n}\r\n","<app-header [eventHeader]=\"eventHeader\"></app-header>\r\n\r\n<div class=\"p-5\">\r\n    <div>\r\n        <app-company-list *ngIf=\"currentProfileProviders?.length>0\" [items]=\"currentProfileProviders\" (emitEvent)=\"companyListEvent($event)\"></app-company-list>\r\n    </div>\r\n    <h4 *ngIf=\"currentProfileProviders?.length===0\" class=\"text-center\">No se encontraron favoritos</h4>\r\n</div>\r\n\r\n<app-footer></app-footer>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { FavoritesRoutingModule } from './favorites-routing.module';\r\nimport { FavoritesComponent } from './favorites.component';\r\nimport { HeaderModule } from '@shared/components/header/header.module';\r\nimport { FooterModule } from '@shared/components/footer/footer.module';\r\nimport { CompanyListModule } from '@shared/components/company-list/company-list.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    FavoritesComponent\r\n  ],\r\n  imports: [\r\nCommonModule,\r\n    FavoritesRoutingModule,\r\n    HeaderModule,\r\n    FooterModule,\r\n    CompanyListModule\r\n  ]\r\n})\r\nexport class FavoritesModule { }\r\n"],"names":[],"sourceRoot":"webpack:///"}